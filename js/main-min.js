// number of card divs to build
function buildCards(e){for(var t=0;t<e;t++){var n=$(".cards > div").length;n<e&&cards.append('<div id="card'+t+'" class="card"></div>')}}function shuffle(e){var t=e.length,n,r;while(t){r=Math.floor(Math.random()*t--);n=e[t];e[t]=e[r];e[r]=n}return e}function setup(){if(score===2){cards.addClass("level2");buildCards(25)}if(score===4){cards.addClass("level3");buildCards(40)}if(score===6){cards.addClass("level4");buildCards(50)}if(score===8){cards.addClass("level5");buildCards(100)}chosen=$(shuffle(card).slice(0,checkedCards));chosen.addClass("selected chosen");hide()}function hide(){setTimeout(function(){card.removeClass("selected")},1500)}function clear(){card.removeClass("chosen selected");score=0;$(".score").text(score);if(cards.hasClass("level2")||cards.hasClass("level3")||cards.hasClass("level4")){cards.removeClass("level2 level3 level4 level5");$(".card").slice(20,$(".cards > div").length).remove()}}var cards=$(".cards");buildCards(20);var checkedCards=1,card=$(".card"),chosen=$(shuffle(card).slice(0,checkedCards)),score=0;card.click(function(){$(this).addClass("selected");if($(".chosen.selected").length===$(".chosen").length){score++;$(".text").fadeIn().html('<i class="fa fa-smile-o"></i>').delay(500).fadeOut();$(".score").text(score);setup()}else if(!$(this).hasClass("chosen")){$(".text").fadeIn().html('<i class="fa fa-frown-o"></i> score: '+score+'<br><i class="fa fa-refresh"></i>');$(this).removeClass("selected");$(".text").click(function(){$(".text").fadeOut();clear();setup()})}});setup();