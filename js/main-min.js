// Build 20 divs, 5 colums and 4 rows
function shuffle(e){var t=e.length,n,r;while(t){r=Math.floor(Math.random()*t--);n=e[t];e[t]=e[r];e[r]=n}return e}function setup(){chosen=$(shuffle(card).slice(0,checkedCards));chosen.addClass("selected chosen");hide()}function hide(){setTimeout(function(){card.removeClass("selected")},1500)}function clear(){card.removeClass("chosen selected");score=0;$(".score").text(score)}var totalCards=20,cards=$(".cards");for(var i=0;i<totalCards;i++)cards.append('<div id="card'+i+'" class="card"></div>');var checkedCards=1,card=$(".card"),chosen=$(shuffle(card).slice(0,checkedCards)),score=0;card.click(function(){$(this).addClass("selected");if($(".chosen.selected").length==$(".chosen").length){score++;$(".text").fadeIn().text(":)").delay(500).fadeOut();$(".score").text(score);setup()}else if(!$(this).hasClass("chosen")){$(".text").fadeIn().text(":( score: "+score+" - try again!");$(this).removeClass("selected");$(".text").click(function(){$(".text").fadeOut();clear();setup()})}});setup();